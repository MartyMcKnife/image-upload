(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t,c){},58:function(e,t,c){"use strict";c.r(t);var s=c(0),r=c(2),n=c.n(r),a=c(21),i=c.n(a),o=(c(32),c(4)),d=c(11),l=c.n(d),j=c(22),b=c(23),u=c.n(b);function x(){return Object(s.jsxs)("div",{className:"font-medium mb-12",children:[Object(s.jsx)("h1",{className:"text-2xl",children:"Upload your image"}),Object(s.jsx)("h3",{className:"text-gray-500",children:"File should be JPEG or a PNG"})]})}function m(e){var t=e.setImage;return Object(s.jsxs)("div",{children:[Object(s.jsx)("form",{children:Object(s.jsx)("input",{type:"file",id:"files",className:"hidden",name:"image",onChange:function(e){if(e.target.files){var c=e.target.files[0];t(c)}},accept:"image/*"})}),Object(s.jsx)("label",{htmlFor:"files",className:"bg-blue-400 px-2 py-1 rounded-lg",children:"Choose File"})]})}var O=c(8),h=c(26),p=c(6),g=c(7);function f(e){var t=e.setImage;return Object(s.jsx)("div",{className:"border-dashed border-blue-200 border-2 w-96 my-8 p-8 bg-gray-200 rounded-md",children:Object(s.jsx)(h.a,{onDrop:function(e){t(e[0])},noClick:!0,children:function(e){var t=e.getRootProps,c=e.getInputProps;return Object(s.jsx)("section",{children:Object(s.jsxs)("div",Object(O.a)(Object(O.a)({},t()),{},{children:[Object(s.jsx)(p.a,{icon:g.b,size:"8x"}),Object(s.jsx)("input",Object(O.a)({},c())),Object(s.jsx)("p",{className:"py-4",children:"Drag & drop your image here"})]}))})}})})}function v(){return Object(s.jsx)("div",{className:"mt-4 text-red-700",children:Object(s.jsx)("h1",{children:"Only images are allowed!"})})}function y(e){var t=e.setData,c=e.setLoading,n=e.setError,a=Object(r.useState)(),i=Object(o.a)(a,2),d=i[0],b=i[1],O=Object(r.useState)(!1),h=Object(o.a)(O,2),p=h[0],g=h[1];return Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(l.a.mark((function e(s){var r,a,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,u()({method:"POST",url:"/api/upload",data:s,headers:{"Content-Type":"multipart/form-data"}});case 4:r=e.sent,console.log(r),t(r.data),c(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c(!1),e.t0.response?(o=e.t0,n({code:null===(a=o.response)||void 0===a?void 0:a.status,message:null===(i=o.response)||void 0===i?void 0:i.data})):n({code:0,message:"Unknown"});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}if(d)if(/image\//gi.test(d.type)){g(!1);var s=new FormData;s.append("image",d),function(t){e.apply(this,arguments)}(s)}else g(!0)}),[d]),Object(s.jsxs)("div",{className:"font-poppins mx-4 my-2 w-auto",children:[Object(s.jsx)(x,{}),Object(s.jsx)(f,{setImage:b}),Object(s.jsx)("p",{className:"mb-4",children:"or"}),Object(s.jsx)(m,{setImage:b}),p&&Object(s.jsx)("div",{children:Object(s.jsx)(v,{})})]})}function N(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{className:"text-2xl py-4 px-8",children:"Uploading..."}),Object(s.jsx)("div",{className:"progress-line rounded-md w-8"})]})}var w=c(25);function k(e){var t=e.data,c=Object(r.useState)(!1),n=Object(o.a)(c,2),a=n[0],i=n[1],d=a?"bg-green-300":"bg-blue-300";return Object(s.jsxs)("div",{children:[Object(s.jsx)(p.a,{icon:g.a,size:"6x",color:"green"}),Object(s.jsx)("h1",{children:"Uploaded Successfully!"}),Object(s.jsx)("img",{src:t.url,alt:"Your uploaded image!",className:"content-center inline-block h-96 rounded-md m-4"}),Object(s.jsxs)("div",{className:"flex items-center border-2 border-gray-200 p-1 rounded-lg",children:[Object(s.jsx)("p",{className:" mx-4",children:t.url}),Object(s.jsx)(w.CopyToClipboard,{text:t.url,onCopy:function(){return i(!0)},children:Object(s.jsx)("button",{className:"".concat(d," px-4 py-2 rounded-md"),children:a?"Link Copied!":"Copy Link"})})]})]})}function C(e){var t=e.error;return Object(s.jsx)("div",{children:t&&Object(s.jsxs)("div",{className:"absolute bottom-6 right-6 bg-red-300 p-4 rounded-lg shadow-md bounce-in-bottom",children:[Object(s.jsx)("h2",{children:"Looks like there was a problem uploading your file"}),Object(s.jsxs)("h3",{children:["Error code: ",t.code]}),Object(s.jsxs)("h3",{children:["Message: ",t.message]})]})})}var S=function(){var e=Object(r.useState)(),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!1),i=Object(o.a)(a,2),d=i[0],l=i[1],j=Object(r.useState)(),b=Object(o.a)(j,2),u=b[0],x=b[1];return Object(s.jsx)("div",{className:"flex justify-center items-center h-screen bg-gray-100 w-full",children:Object(s.jsx)("div",{className:"bg-gray-50 rounded-lg shadow-md p-6 text-center",children:d?Object(s.jsx)(N,{}):c?Object(s.jsx)(k,{data:c}):Object(s.jsxs)("div",{children:[Object(s.jsx)(y,{setData:n,setLoading:l,setError:x}),Object(s.jsx)(C,{error:u})]})})})};i.a.render(Object(s.jsx)(n.a.StrictMode,{children:Object(s.jsx)(S,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.86f23049.chunk.js.map